<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TimeSync</title>
    <link href='https://fonts.googleapis.com/css?family=Nunito' rel='stylesheet'>
    <link href="{{ url_for('static', filename='style.css')}}" rel="stylesheet">
</head>
<body class="corpagina">
    <header>
        <div class="NavBar">
            <h1 class="linhasCON">
                <svg class="linhasEST" id="linhasDiv">
                    <path class="linhas" d="M 2 6 H 3 V 5 h 26 v 1 Z m 1 5 H 3 v 1 h 26 v -1 Z m 1 6 H 3 v 1 h 26 v -1 Z"></path>
                </svg>
            </h1>
            <h2 class="estlogo">
                <img class="logo" src="{{ url_for('static', filename='TimeSync.png')}}" >
            </h2>
            <div class="sidebar" id="sidebar">
                <svg class="linhasEST2" id="LinhasDiv2">
                    <path class="linhas2" d="M 2 6 H 3 V 5 h 26 v 1 Z m 1 5 H 3 v 1 h 26 v -1 Z m 1 6 H 3 v 1 h 26 v -1 Z"></path>
                </svg>
            </div>
        </div>
    </header>
    <main>
        <div class="Cal">
            <div class="CalDiv">
                <table class="tabela">
                    <tr>
                        <td colspan="7" class="ColTit">
                            <svg class="Butback" width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg" button onclick="MudarMes('prev')">
                                <path d="M7.21289 0.5L0 8L7.21289 15.5L9 13.6418L3.57422 8L9 2.35824L7.21289 0.5Z" fill="#6FFFE9">
                            </svg>
                                <style>
                                    .TitMes{font-family: 'Nunito'}             
                                </style>                          
                                <span class="TitMes">{{ title }} 2024</span>
                            <svg class="Butfoward" width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg" button onclick="MudarMes('next')">                                       
                                <path d="M1.78711 15.5L9 8L1.78711 0.5L0 2.35825L5.42578 8L0 13.6418L1.78711 15.5Z" fill="#6FFFE9">
                            </svg>
                        </td>
                    </tr>
                    <tr class="dia">
                        <style>
                            .dia{font-family: 'Nunito'}             
                        </style>
                        <td>DOM</td>
                        <td>SEG</td>
                        <td>TER</td>
                        <td>QUA</td>
                        <td>QUI</td>
                        <td>SEX</td>
                        <td>SAB</td>
                    </tr>
                    {% for dia in dias %}
                        <td id="{{ dia['id'] }}" {% if dia['class'] %}class="{{ dia['class'] }}" {% endif %}
                        {% if dia['feriado'] %}name="{{ dia['feriado'] }}" onmouseover="show(this)"{% endif %}>
                        <span class="dias"><style>
                            .dias{font-family: 'Nunito'}             
                        </style>{{ dia['dia'] }}</span>
                        </td>
                        {% if loop.index % 7 == 0 %}
                            </tr><tr>
                        {% endif %}
                    {% endfor %}
                    
                </table>
            </div>
        </div>
        <div id="dias"></div>    
    </main>
    
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        document.getElementById("linhasDiv").addEventListener("click", function() {
            document.getElementById("sidebar").classList.toggle("show");
        });

        document.getElementById("LinhasDiv2").addEventListener("click", function() {
            document.getElementById("sidebar").classList.toggle("show");
        });
    </script>
    <script type="text/javascript" src="{{ url_for('static', filename='script.js') }}"></script>
    <script>
        function MudarMes(direction) {
            const MesAtual = "{{ title }}"; // Obtém o mês atual do Flask
            const Meses = [
                "Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho",
                "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"
            ];
            const currentIndex = Meses.indexOf(MesAtual);

            let newIndex;
            if (direction === 'prev') {
                newIndex = currentIndex === 0 ? 11 : currentIndex - 1;
            } else {
                newIndex = currentIndex === 11 ? 0 : currentIndex + 1;
            }

            const NovoMes = Meses[newIndex];
            window.location.href = `/?mes=${NovoMes}`; // Redireciona para a página com o novo mês
        }
    </script>
</body>
</html>
